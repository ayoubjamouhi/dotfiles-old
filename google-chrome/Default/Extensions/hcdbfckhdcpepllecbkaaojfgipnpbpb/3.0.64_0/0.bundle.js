(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,o){"use strict";t.a=new class{setTimeout(e){return new Promise(t=>{window.setTimeout(()=>{t()},e)})}}},12:function(e,t,o){"use strict";t.a=new class{doCountdown(e){function t({el:e,vueStatus:t,message:o}){t?t.status=o:e.textContent=o}return new Promise(o=>{!function({element:e,errorNumber:o,prefix:r,stopTime:n,vueStatus:s,color:a,errorMessage:i},l){const u=document.getElementById(e);u&&(u.style.color=a||"red");const c=setInterval(()=>{const e=Math.round((n-(new Date).getTime())/1e3);let a;if(e<=0)clearInterval(c),t({el:u,vueStatus:s,message:a=`${r} / Countdown is completed`}),l();else{let n=Math.floor(e/60);n=n<10?`0${n}`:n;let l=e%60;l=l<10?`0${l}`:l,t({el:u,vueStatus:s,message:a=i?`${r} paused because of HTTP${o} error/${i}. Continue in ${`${n}:${l}`}.`:`${r} paused because of HTTP${o} error. Continue in ${`${n}:${l}`}.`})}},1e3)}(e,o)})}}},259:function(e,t,o){"use strict";var r=o(2),n=o(52),s=o(64),a={props:{username:{type:String,default:""}},data:()=>({userData:[]}),computed:{copyMessage(){return this.userData.length>0?`Copy ${this.userData.filter(e=>"Id"===e.key).map(e=>e.value)} to clipboard`:""}},watch:{username:{handler(e){e&&e!==r.a.you&&this.getUserDetails(e)},immediate:!0}},methods:{getUserDetails(e){this.userData=[],n.a.getUserProfile({username:e,silent:!0}).then(async t=>{if(!t.id)return;const o={id:"Id",follows_viewer:"Follows you",is_private:"Private"};this.userData=[],Object.entries(t).forEach(([e,t])=>{null!=t&&("latestPostDate"===e&&t||o[e]&&this.userData.push({key:o[e],value:t}))});const r=await s.a.getUserProfile({userId:t.id,username:e,consoleOutput:!0}),{public_email:n,business_category_name:a}=r;n&&this.userData.push({key:"Email",value:n}),a&&this.userData.push({key:"Category",value:a})})},copyId(e){const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}}},i=o(5),l=Object(i.a)(a,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.userData.length>0?o("v-list",{attrs:{dense:""}},e._l(e.userData,(function(t,r){return o("v-list-item",{key:r},[o("v-list-item-content",[o("v-list-item-subtitle",{domProps:{innerHTML:e._s(t.key+":<strong title='"+t.value+"'> "+t.value+"</strong>")}})],1),e._v(" "),"Id"==t.key?o("v-list-item-action",[o("v-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{icon:""},on:{click:function(o){return e.copyId(t.value)}}},[o("v-icon",{attrs:{title:e.copyMessage,color:"grey lighten-1"}},[e._v("\n          mdi-content-copy\n        ")])],1)],1):e._e()],1)})),1):e._e()}),[],!1,null,null,null);t.a=l.exports},52:function(e,t,o){"use strict";var r=o(7),n=o.n(r),s=o(2),a=o(10),i=o(12),l=o(8);const u=/window._sharedData = (.*);<\/script>/i,c=/window\.__additionalDataLoaded\s?\([^,]+,\s?(.*)\);<\/script>/i,d={full_name:"NA",biography:"The detailed user info was not returned by instagram",is_private:!0,followed_by_viewer:!1,follows_viewer:!1,follows_count:0,followed_by_count:0,media_count:0,fake_resolve:!0};let _=0;t.a=new class{getUserProfile(e){const{username:t,userId:o,updateStatusDiv:r,silent:g,vueStatus:p,csrfToken:f,telegramBot:m}=e;return new Promise((e,o)=>{y(t,e,o)});function h(e,t,o){console.log(e),console.log(t),o(d)}function w(e,o,n,l){"function"==typeof r?(r(e,"red"),a.a.setTimeout(3e3).then(()=>i.a.doCountdown({element:"status",errorNumber:o,prefix:"Getting users profiles",stopTime:+(new Date).getTime()+(_||1)*s.a.retryInterval,vueStatus:p})).then(()=>{console.log("Continue execution after HTTP error",o,new Date),y(t,n,l)})):("302"===o?alert(`Error ${o} trying to get the detailed user info for ${t}. Probably Instagram temporary banned your IP address or you were logged out and you need to log in again.`):alert(`Error ${o} trying to get the detailed user info for ${t}. Please try again later`),l())}function y(e,r,a){if(f){if(document.getElementById("pauseDetInfo")&&"pause"===document.getElementById("pauseDetInfo").dataset.state)return void setTimeout(()=>{y(e,r,a)},1e3)}const i=`https://www.instagram.com/${e}/`,d={eferer:"https://www.instagram.com/"};f&&(d.getuserinfo=!0),n.a.get(i,{headers:d}).then(e=>(function(e,t,r,n){if(302==e.status||e.request.responseURL.includes("accounts/login")){m.sendMessage("302 error trying th get the detailed profile");const e=document.getElementById("errorDiv");return e&&(e.style.display=""),_+=1,_=Math.min(_,10),void w("No cookie login issue","302",r,n)}_=0;const{data:s}=e,a=u.exec(s);if(!a)return void h(`exec failed in getUserProfile - ${o}/${t}`,s,r);let i;if(a[1].includes("graphql")){const e=JSON.parse(a[1]);if(!e.entry_data||!e.entry_data.ProfilePage||!e.entry_data.ProfilePage[0])return console.log(a[1]),void h(`[getUserProfile]parsing 0 arr - ${o}/${t}`,s,r);i=e.entry_data.ProfilePage[0].graphql.user}else{console.error("[getUserProfile]NO graphql in sharedData, need to check __additionalDataLoaded");const e=c.exec(s);if(!e)throw console.log(s),new Error(`[no-graphql]exec 1 arr - ${o}/${t}`);const r=JSON.parse(e[1]);if(!r.graphql)throw console.log(r),new Error(`[no-graphql]no graphql 1 arr - ${o}/${t}`);i=r.graphql.user}const{id:l,username:d,full_name:g,profile_pic_url_hd:p,biography:f,connected_fb_page:y,external_url:v,is_private:b,has_requested_viewer:$,blocked_by_viewer:T,requested_by_viewer:P,has_blocked_viewer:D,is_verified:I,is_business_account:k,business_category_name:E}=i;let{followed_by_viewer:M,follows_viewer:q}=i;const S=i.edge_follow.count,x=i.edge_followed_by.count,C=i.edge_owner_to_timeline_media.count;let N;C>0&&i.edge_owner_to_timeline_media&&i.edge_owner_to_timeline_media.edges[0]&&(N=new Date(1e3*i.edge_owner_to_timeline_media.edges[0].node.taken_at_timestamp)),r({id:l,username:d,full_name:g,profile_pic_url_hd:p,biography:f,connected_fb_page:y,external_url:v,followed_by_viewer:M=P?null:M,follows_viewer:q=$?null:q,is_private:b,has_requested_viewer:$,blocked_by_viewer:T,requested_by_viewer:P,has_blocked_viewer:D,follows_count:S,followed_by_count:x,media_count:C,latestPostDate:N,is_verified:I,is_business_account:k,business_category_name:E})})(e,i,r,a),e=>(function(e,r,n){console.log(e);const a=e.response?e.response.status:0;if(m&&m.sendMessage(`Error getting the detailed user profile - ${a}`),a>0&&console.log(`error response data - ${e.response.data}/${a}`),console.log(`Error making http request to get user profile ${t}, status - ${a}`),404===a)console.log(">>>HTTP404 error getting the user profile.",t,new Date),o?(console.log(`>>>user id is defined - ${o}`),r({username:s.a.you,full_name:"NA4",biography:"The 404 error trying to find the user profile (renamed?)",is_private:!0,followed_by_viewer:!1,follows_viewer:!1,follows_count:0,followed_by_count:0,media_count:0})):(console.log(`silent mode - ${g}`),g||alert("404 error trying to retrieve user profile, userid is not specified, check if username is correct"),n());else if(s.a.httpErrorMap.hasOwnProperty(a)){console.log(`HTTP${a} error trying to get the user profile.`,new Date),w(l.a.getMessage(s.a.httpErrorMap[a],a,+s.a.retryInterval/6e4),a,r,n)}else alert(l.a.getMessage("ERRGETTINGUSER",t,a)),n()})(e,r,a))}}}},64:function(e,t,o){"use strict";var r=o(7),n=o.n(r),s=o(2),a=o(10),i=o(12),l=o(8);let u=0;t.a=new class{getUserProfile(e){const{username:t,userId:o,updateStatusDiv:r,vueStatus:c,csrfToken:d,telegramBot:_,consoleOutput:g,pauseRunning:p}=e;return new Promise((e,t)=>{h(o,e,t)});function f(e,n,l,d,_){"function"==typeof r?(r(e,"red"),a.a.setTimeout(3e3).then(()=>i.a.doCountdown({element:"status",errorNumber:n,prefix:"Getting users profiles 2",stopTime:+(new Date).getTime()+(u||1)*s.a.retryInterval,vueStatus:c,errorMessage:_})).then(()=>{console.log("Continue execution after HTTP error",n,new Date),h(o,l,d)})):(alert(`Error ${n} trying to get the detailed user info 2 for ${t}/${o}. Please try again later`),d())}function m(e,r,n){console.log(e);const a=e.response?e.response.status:0;let i="";_&&(_.sendMessage(`Error getting the detailed user profile ${o} (2) - ${a}`),a>0&&_.sendMessage(`${JSON.stringify(e.response.data)}`));let u=!1;if(a>0&&(console.log(`[${(new Date).toLocaleString()}]error response data - ${e.response.data}/${a}`),console.log(`${JSON.stringify(e.response.data)}`),u=(i=e.response.data.message)&&(i.toLowerCase().includes("challenge_required")||i.toLowerCase().includes("feedback_required"))),console.log(`Error making http request to get user profile ${t}/${o}, status - ${a}`),u&&p&&(_.sendMessage("The execution will be paused because of challenge required..."),p("Paused because of challenge required, before resuming you need to refresh Instagram tab and resolve the challenge ...")),404===a)return console.log(">>>HTTP404 error getting the user profile 2.",t,o,new Date),void r({full_name:"",biography:"The 404 error trying to find the user profile",is_private:!0,followed_by_viewer:!1,follows_viewer:!1,follows_count:0,followed_by_count:0,media_count:0});if(s.a.httpErrorMap.hasOwnProperty(a)){console.log(`[${(new Date).toLocaleString()}]HTTP${a} error trying to get the user profile.`),f(l.a.getMessage(s.a.httpErrorMap[a],a,+s.a.retryInterval/6e4),a,r,n,i)}else{console.log(`[${(new Date).toLocaleString()}]HTTP${a}: unknown error...`),f(l.a.getMessage("XXXXX",a,+s.a.retryInterval/6e4),a,r,n,i)}}function h(e,t,o){let r=!1;if(d&&(r=document.getElementById("pauseDetInfo")&&"pause"==document.getElementById("pauseDetInfo").dataset.state),r)return void setTimeout(()=>h(e,t,o),1e3);const s=`https://i.instagram.com/api/v1/users/${e}/info/`;n.a.get(s,{headers:{}}).then(e=>(function(e,t,o,r){u=0;const{user:n}=e.data,{pk:s,username:a,full_name:i,is_private:l,media_count:c,follower_count:_,following_count:p,following_tag_count:m,biography:h,external_url:w,mutual_followers_count:y,is_business:v,shoppable_posts_count:b,category:$,public_email:T,public_phone_country_code:P,public_phone_number:D,total_igtv_videos:I,usertags_count:k,city_name:E,show_shoppable_feed:M,is_verified:q}=n;if(!i&&!_&&!p&&d)return console.log("incorrect info returned by instagram",e.data),void f("The returned detailed info is incorrect.","000",o,r,"The returned detailed info is incorrect. Please check if instagram web client works for you.");let S;n.hd_profile_pic_versions&&n.hd_profile_pic_versions[0]&&(S=n.hd_profile_pic_versions[0].url),!S&&n.hd_profile_pic_url_info&&(S=n.hd_profile_pic_url_info.url),g&&console.log(n);const x={id:s,username:a,full_name:i,profile_pic_url_hd:S,is_private:l,media_count:c,followed_by_count:_,follows_count:p,following_tag_count:m,biography:h,external_url:w,mutual_followers_count:y,is_business_account:v,shoppable_posts_count:b,business_category_name:$,public_email:T,public_phone_country_code:P,public_phone_number:D,total_igtv_videos:I,usertags_count:k,city_name:E,show_shoppable_feed:M,is_verified:q};x.public_email=x.public_email||null,o(x)})(e,0,t,o),e=>m(e,t,o))}}}}}]);